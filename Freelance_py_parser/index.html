<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF" crossorigin="anonymous">
    <title>FL_parse</title>
</head>
<body>
    <style>
        .main{
            display: flex;
            flex-direction: row;
        }   
        .hubr{
            max-width: 50%;
        } 
        .hubr > div {                       padding: 1rem;
            margin: 1rem;
            border: 1px solid rgb(177, 173, 173);
        }

        .hubr > h1{
            margin: 1rem;
        }

        .flance > div {               
            padding: 1rem;
            margin: 1rem;
            border: 1px solid rgb(177, 173, 173);
        }

        .flance > h1{
            margin: 1rem;            
        }
    </style>
    <section class="main">
        <section class="hubr", id="hubr"> 
            <h1>Hubr Freelance</h1>
        </section>
        <section class="flance" id='flance'>
            <h1>Freelance</h1>
        </section>
    </section>
    

    <script>
        function appendHubr(){
            let mainSection = document.getElementById('hubr'),            
            requestURL = 'hubr_tasks_list.json',
            request = new XMLHttpRequest();
        
        request.open('GET', requestURL);
        request.onload = function(){
            if (request.readyState === 4){
                if (request.status === 200){
                    console.log(request.response)
                    let data_tasks = JSON.parse(request.responseText);
                    getAllMassive(data_tasks);
                    console.log(getAllMassive(data_tasks))
                } else {
                    console.log(request.statusText)
                }
            }
        };
        request.onerror = function(e){
            console.log(request.statusText)
        }
        request.send();

        function getAllMassive(arr){
            arr.forEach(elem => {               
                let card_task = document.createElement('div');
                card_task.innerHTML = `<h4>${elem.title} <a href='${elem.link}'>...</a></h4>                
                <h5>${elem.finance}</h5> <p>${elem.description}</p>`
                mainSection.appendChild(card_task)
            });
        }
        }
        
        function appendFlance() {
        let mainSection = document.getElementById('flance'),            
        requestURL = 'fl_tasks_list.json',
        request = new XMLHttpRequest();
        
        request.open('GET', requestURL);
        request.onload = function(){
            if (request.readyState === 4){
                if (request.status === 200){
                    console.log(request.response)
                    let data_tasks = JSON.parse(request.responseText);
                    getAllMassive(data_tasks);
                    console.log(getAllMassive(data_tasks))
                } else {
                    console.log(request.statusText)
                }
            }
        };
        request.onerror = function(e){
            console.log(request.statusText)
        }
        request.send();

        function getAllMassive(arr){
            arr.forEach(elem => {               
                let card_task = document.createElement('div');
                card_task.innerHTML = `<h4>${elem.title} <a href='${elem.link}'>...</a></h4>                
                <h5>${elem.finance}</h5> <p>${elem.description}</p>`
                mainSection.appendChild(card_task)
            });
        }
        }
        appendHubr();
        appendFlance();
        

    </script>
</body>
</html>